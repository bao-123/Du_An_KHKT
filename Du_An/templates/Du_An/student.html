<!--TODO: fix this-->
{% extends 'Du_An/layout.html' %}
{% load static %}

{% block title %}{{ student.full_name }}{% endblock %}
<!--* Replace if you wish-->
{% block style %}<link href="{% static 'Du_An/css/profile.css' %}" rel="stylesheet">{% endblock %}
{% block script %} <script src="{% static 'Du_An/js/profile.js' %}"></script> {% endblock %}

{% block body %}
    <div class="student_profile">
        <!--* Display the basic information -->
        <div class="basicInfo">
            <h2 class="studentName"> {{ student.full_name }} </h2>
            <p class="studentClass">Lớp: <a href="{% url 'view_class' student.classroom.id %}" class="link-info link-offset-2 link-opacity-75-hover">{{ student.classroom.name }}</a></p>
            <p class="studentGender">Giới tính: {% if student.is_boy %} Nam {% else %} Nữ {% endif %}</p>
            <p class="studentParent">
                {% for parent in student.parent.all %}
                <!--TODO: replace the href (to the parent's page)-->
                    <a href="#" class="link-info link-offset-2 link-underline-dark link-opacity-75-hover"> {{ parent.full_name }}</a>
                {% empty %}
                    Học sinh này chưa có phụ huynh nào nhận
                {% endfor %}
            </p>
        </div>
        <!--* show student's marks -->
        <div class="studentMark">
            <!--TODO: Add javascript to display the marks base on the selected subject-->
            <select id="subject" class="form-control mx-2 me-auto">
                <!--** Default subject is Toán -->
                <option selected disabled>Môn học</option>
                {% for subject in subjects %}
                <option value="{{ subject.name }}"> {{ subject.name }} </option>
                {% endfor %}
            </select>
            <div class="subjectMark">
                <table>
                    <thead>
                        <tr>
                            <td>Bảng điểm</td>
                        </tr>
                        <!--TODO: Add năm học-->
                    </thead>
                    <tbody>
                        <tr>
                            <td>Kì 1</td>
                        </tr>
                        {% for subject in student.get_subjects_mark.main %}
                        <div id="subject.first_term.name" style="display: none;">
                            <tr>
                                <!--TODO: fix this-->
                                <td>{{ subject.first_term.name }} </td>
                            </tr>
                            <tr>
                                <td>Kì 1</td>
                            </tr>
                            <tr>
                                <td>Điểm thường xuyên 1 </td>
                                <td>Điểm thường xuyên 2</td>
                                <td>Điểm thường xuyên 3</td>
                                <td>Điểm thường xuyên 4</td>
                                <td>Điểm giữa kì</td>
                                <td>Điểm cuối kì</td>
                            </tr>
                            <!--* Hiển thị điểm-->
                            <tr>
                                <td> 
                                    {% if subject.first_term.diem_thuong_xuyen1 %}
                                    {{ subject.first_term.diem_thuong_xuyen1 }}
                                    {% else %}
                                    Chưa có điểm
                                    {% endif %}
                                 </td>
                                <td> 
                                    {% if subject.first_term.diem_thuong_xuyen2 %}
                                    {{ subject.first_term.diem_thuong_xuyen2 }}
                                    {% else %}
                                    Chưa có điểm
                                    {% endif %}
                                 </td>
                                <td> 
                                    {% if subject.first_term.diem_thuong_xuyen3 %}
                                    {{ subject.first_term.diem_thuong_xuyen3 }}
                                    {% else %}
                                    Chưa có điểm
                                    {% endif %}
                                 </td>
                                <td> 
                                    {% if subject.first_term.diem_thuong_xuyen4 %}
                                    {{ subject.first_term.diem_thuong_xuyen4 }}
                                    {% else %}
                                    Chưa có điểm
                                    {% endif %}
                                 </td>
                                <td> 
                                    {% if subject.first_term.diem_giua_ki %}
                                    {{ subject.first_term.diem_giua_ki }} </td>
                                    {% else %}
                                    Chưa có điểm
                                    {% endif %}
                                    
                                <td> 
                                    {% if subject.first_term.diem_cuoi_ki %}
                                    {{ subject.first_term.diem_cuoi_ki }} </td>
                                    {% else %}
                                    Chưa có điểm
                                    {% endif %}
                                    
                            </tr>
                            <tr>
                                <td>Kì 2</td>
                            </tr>
                            <tr>
                                <td> 
                                    {% if subject.second_term.diem_thuong_xuyen1 %}
                                    {{ subject.second_term.diem_thuong_xuyen1 }}
                                    {% else %}
                                    Chưa có điểm
                                    {% endif %}
                                 </td>
                                <td> 
                                    {% if subject.second_term.diem_thuong_xuyen2 %}
                                    {{ subject.second_term.diem_thuong_xuyen2 }}
                                    {% else %}
                                    Chưa có điểm
                                    {% endif %}
                                </td>
                                <td> 
                                    {% if subject.second_term.diem_thuong_xuyen3 %}
                                    {{ subject.second_term.diem_thuong_xuyen3 }}
                                    {% else %}
                                    Chưa có điểm
                                    {% endif %}
                                </td>
                                <td> 
                                    {% if subject.second_term.diem_thuong_xuyen4 %}
                                    {{ subject.second_term.diem_thuong_xuyen4 }}
                                    {% else %}
                                    Chưa có điểm
                                    {% endif %}
                                </td>
                                <td> 
                                    {% if subject.second_term.diem_giua_ki %}
                                    {{ subject.second_term.diem_giua_ki }} </td>
                                    {% else %}
                                    Chưa có điểm
                                    {% endif %}
                                <td> 
                                    {% if subject.second_term.diem_cuoi_ki %}
                                    {{ subject.second_term.diem_cuoi_ki }} </td>
                                    {% else %}
                                    Chưa có điểm
                                    {% endif %}
                            </tr>
                        </div>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
{% endblock %}